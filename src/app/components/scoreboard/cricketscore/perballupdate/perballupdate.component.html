<!-- perballupdate.component.html -->
<div class="container mt-4">
  <div class="row">
    <!-- Team 1 Innings -->
    <div class="col-lg-6 mb-4">
      <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0">{{ team1Name }} Innings</h5>
        </div>
        <div class="card-body p-0">
          <div class="list-group list-group-flush">
            <div 
              *ngFor="let ball of displayedTeam1; trackBy: trackByBall" 
              class="list-group-item"
            >
              <div class="d-flex justify-content-between align-items-center">
                <div>
                  <strong>{{ ball.Over }}.{{ ball.Ball }} </strong>
                  <small class="text-muted ml-2">Bowler: {{ ball.Bowler }}</small>
                </div>
              </div>
              <div class="mt-2">
                <div class="d-flex justify-content-between">
                  <span class="text-success">ðŸŸ¢ {{ ball.Striker }}</span>
                  <span class="text-secondary">âšª {{ ball.NonStriker }}</span>
                </div>
                <div class="mt-2">
                  <span class="font-weight-bold">{{ getTotalRuns(ball) }} runs</span>
                  <span 
                    *ngIf="ball.ExtraRuns > 0" 
                    class="badge badge-warning ml-2"
                  >
                    {{ ball.ExtraType }} +{{ ball.ExtraRuns }}
                  </span>
                  <div *ngIf="ball.IsWicket" class="mt-1">
                    <span class="text-danger">
                      <i class="fas fa-flag"></i> {{ ball.WicketType }} - {{ ball.DismissedPlayer }}
                      <span *ngIf="ball.Fielder" class="ml-1">
                        (Fielder: {{ ball.Fielder }})
                      </span>
                    </span>
                  </div>
                </div>
              </div>
            </div> <!-- list-group-item -->
          </div> <!-- list-group -->
        </div> <!-- card-body -->
        <div class="card-footer text-center">
          <button 
            *ngIf="displayedTeam1.length < team1Data.length" 
            (click)="loadMore('team1')" 
            class="btn btn-outline-primary btn-sm"
          >
            Load {{ team1Data.length - displayedTeam1.length }} more balls
          </button>
        </div>
      </div> <!-- card -->
    </div> <!-- col-lg-6 -->

    <!-- Team 2 Innings -->
    <div class="col-lg-6 mb-4">
      <div class="card shadow-sm">
        <div class="card-header bg-success text-white">
          <h5 class="mb-0">{{ team2Name }} Innings</h5>
        </div>
        <div class="card-body p-0">
          <div class="list-group list-group-flush">
            <div 
              *ngFor="let ball of displayedTeam2; trackBy: trackByBall" 
              class="list-group-item"
            >
              <div class="d-flex justify-content-between align-items-center">
                <div>
                  <strong>{{ ball.Over }}.{{ ball.Ball }} </strong>
                  <small class="text-muted ml-2">Bowler: {{ ball.Bowler }}</small>
                </div>
              </div>
              <div class="mt-2">
                <div class="d-flex justify-content-between">
                  <span class="text-success">ðŸŸ¢ {{ ball.Striker }}</span>
                  <span class="text-secondary">âšª {{ ball.NonStriker }}</span>
                </div>
                <div class="mt-2">
                  <span class="font-weight-bold">{{ getTotalRuns(ball) }} runs</span>
                  <span 
                    *ngIf="ball.ExtraRuns > 0" 
                    class="badge badge-warning ml-2"
                  >
                    {{ ball.ExtraType }} +{{ ball.ExtraRuns }}
                  </span>
                  <div *ngIf="ball.IsWicket" class="mt-1">
                    <span class="text-danger">
                      <i class="fas fa-flag"></i> {{ ball.WicketType }} - {{ ball.DismissedPlayer }}
                      <span *ngIf="ball.Fielder" class="ml-1">
                        (Fielder: {{ ball.Fielder }})
                      </span>
                    </span>
                  </div>
                </div>
              </div>
            </div> <!-- list-group-item -->
          </div> <!-- list-group -->
        </div> <!-- card-body -->
        <div class="card-footer text-center">
          <button 
            *ngIf="displayedTeam2.length < team2Data.length" 
            (click)="loadMore('team2')" 
            class="btn btn-outline-success btn-sm"
          >
            Load {{ team2Data.length - displayedTeam2.length }} more balls
          </button>
        </div>
      </div> <!-- card -->
    </div> <!-- col-lg-6 -->
  </div> <!-- row -->

  <!-- Fallback when no data is available -->
  <div 
    *ngIf="!team1Data.length && !team2Data.length" 
    class="alert alert-info text-center"
  >
    No ball-by-ball data available yet.
  </div>
</div>
